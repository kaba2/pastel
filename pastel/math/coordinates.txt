Coordinate conversions
======================

[Parent]: pastelmath.txt

Theory
------

A _coordinate system_ in ''RR^n'' is a function ''f : S sub RR^n -> RR^n'' such that ''f'' is a homeomorphism
(''f'' is a continuous bijection, and so is ''f^-1'') almost everywhere. 
Some commonly used coordinate systems include:

 * Cartesian ''RR^n'': 
 ''f_{text(cartesian)}(x_1, ..., x_n) = (
 (x_1), 
 (\vdots), 
 (x_n))''
 
 * Polar ''RR^2'': 
 ''f_{text(polar)}(r, alpha) = (
 (r text(cos)(alpha)), 
 (r text(sin)(alpha)))''
 
 * Cylinder ''RR^3'': 
 ''f_{text(cylinder)}(r, alpha, z) = (
 (r text(cos)(alpha)), 
 (r text(sin)(alpha)), 
 (z))''
 
 * Spherical ''RR^3'': 
 ''f_{text(spherical)}(r, alpha_1, alpha_2) = (
 (r text(cos)(alpha_1)), 
 (r text(sin)(alpha_1) text(cos)(alpha_2)), 
 (r text(sin)(alpha_1) text(sin)(alpha_2)))''

Generalized coordinate systems
------------------------------
 
The polar and spherical coordinate systems are 
simply special cases of the spherical coordinate system in ''RR^n'':
 
 * Spherical ''RR^n'': 
 ''f_{text(hyperspherical)}(r, alpha_1, ..., alpha_n) = (
 (r text(cos)(alpha_1)), 
 (r text(sin)(alpha_1) text(cos)(alpha_2)), 
 (\vdots),
 (r text(sin)(alpha_1) \cdots text(sin)(alpha_(n - 2)) text(cos)(alpha_(n - 1))),
 (r text(sin)(alpha_1) \cdots text(sin)(alpha_(n - 1)) text(sin)(alpha_n)))''
 
To see where the spherical coordinate system gets its name, notice 
that ''|f_{text(hyperspherical)}(r, alpha_1, \cdots, alpha_n)| = r'' 
independent of ''text(alpha)_i'', where the norm is Euclidean. 

All of the mentioned coordinate systems can be united under a single generalization. 
This is done by computing spherical coordinates only for the ''k <= n'' first components 
of ''v in R^n'', and leaving the other ''n - k'' components as they were. This is called the
_generalized cylinder coordinate system_. The spherical coordinate system
is obtained by setting ''k = n''. The cylinder coordinate system is obtained
by setting ''k = n - 1''. The Cartesian coordinate system is obtained
by setting ''k = 0'' (this is of course interesting only theoretically, 
since for ''k = 0'', the conversion is just the identity function).

Practice
--------

Pastel implements coordinate conversions so that the Cartesian 
coordinate system is thought of as the most natural coordinate system.
For all other coordinate system Pastel offers functions to convert to Cartesian
coordinates and back. This way, if there are ''n'' coordinate systems,
only ''O(n)'' conversion functions are needed instead of ''O(n^2)'' for conversions
between all systems.

Pastel offers conversion functions for the generalized cylinder coordinate system. 
However, because most people are more familiar with the spherical ''(k = n)'' and cylinder 
''(k = n - 1)'' coordinate systems as terms, Pastel also offers appropriately named 
redirection functions for them.

