Documentation system
====================

[Back to Pastel](./pastel.htm)

Markdown syntax
---------------

Pastel uses Markdown for documentation. Markdown
is both a syntax and a program to convert files from text
files to .html files. The appealing idea behind Markdown is
that these source text files should also be readable by themself. 
For an example, try replacing the .htm postfix from the link with .txt 
to see the Markdown source for this page.

Implicit documentation naming
-----------------------------

Every source code file in Pastel is implicitly associated with 
that .txt file in the same directory which has the longest prefix 
of the file name. For example, if we have the file 'memory_overlaps.h', 
'memory_overlaps.txt', and 'memory.txt', then the documentation for 
'memory_overlaps.h' matches 'memory_overlaps.txt'. However, if this 
file weren't available, then the documentation would match 'memory.txt'. 
There is possibly no matching implicit documentation. 
Documentation files associate documentation to themselves.

Tags
----

The implicit documentation naming can be overridden in a source code
file by using a special 'Documentation:' tag. This tag allows to specify the
associated documentation explicitly as follows:

	// Documentation: counted_pointers.txt

With the 'Description:' tag one can associate a small description
with each file. For example:

	// Description: CountedPtr class 
	
With the 'Detail:' tag one can transmit an additional line of information
about the purpose of the file. For example:

	// Detail: A reference-counted pointer

These tags, if present, must be placed before anything 
else in a file to make parsing easy.

Implicit grouping of files
--------------------------

Each documentation file acts as a group. Every 
source code file which associates that documentation file 
as their documentation belongs to the group.
In the directory tree view this grouping is reflected
by virtual directories named with the first headline
of the documentation file. The group members are listed
in this virtual directory. These group directories are
always shown expanded. The documentation file itself
also belongs to the group. For example:

	math
		Linear algebra
			Matrix class
				matrix.h
				matrix.hpp
				matrix_dynamic.h
				matrix_static.h
				matrixexpression.h
				matrixview.h
				matrix.txt
			Matrix decompositions
				Lu decomposition
					...
				...
				matrix_decompositions.txt
			...
			linear_algebra.txt
		...

The grouping also reflects to the documentation page,
where all the source code files under the group are 
listed together with their descriptions:

	### Matrix class
	
	[matrix.h](./matrix.h.htm)
	
	[matrix.hpp](./matrix.hpp.htm)

	[matrix_dynamic.h](./matrix_dynamic.h.htm)
	
	...
	
If another documentation file links back to
the current documentation file, then these are
linked in the section 'Learn more':

	Learn more
	----------
	
	[Matrix decompositions]	

The intent of such an implicit system is to minimize the
work of the document writer, as well as to minimize 
errors that would occur when manually typing links.
The documentation also stays up to date even if
files are added or removed.
